<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRremote: IRremote Arduino Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRremote
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">IRremote Arduino Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>Available as Arduino library "IRremote"</p>
<h2><a href="https://github.com/Arduino-IRremote/Arduino-IRremote/archive/master.zip">Version 3.1.0</a> - work in progress</h2>
<p><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/commits/master"><img src="https://img.shields.io/github/commits-since/Arduino-IRremote/Arduino-IRremote/latest" alt="Commits since latest" class="inline"/></a> <a href="https://www.ardu-badge.com/IRremote"><img src="https://www.ardu-badge.com/badge/IRremote.svg?" alt="Installation instructions" style="pointer-events: none;" class="inline"/></a> <a href="https://gitter.im/Arduino-IRremote/Arduino-IRremote?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/Arduino-IRremote/Arduino-IRremote" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/actions"><img src="https://github.com/Arduino-IRremote/Arduino-IRremote/workflows/LibraryBuild/badge.svg" alt="LibraryBuild" style="pointer-events: none;" class="inline"/></a></p>
<p>This library enables you to send and receive using infra-red signals on an Arduino.</p>
<h1>API</h1>
<p>A Doxygen documentation of the sources is available on the <a href="https://arduino-irremote.github.io/Arduino-IRremote/">project homepage</a>.</p>
<h1>Installation</h1>
<p>Click on the LibraryManager badge above to see the <a href="https://www.ardu-badge.com/IRremote/zip">instructions</a>.</p>
<h1>Supported IR Protocols</h1>
<p>Denon, JVC, LG, NEC / Apple, Panasonic / Kaseikyo, RC5, RC6, Samsung, Sharp, Sony, (Pronto), BoseWave, Lego, Whynter, MagiQuest.<br  />
 Protocols can be switched off and on by definining macros before the line <code>#incude &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> like <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/examples/SimpleReceiver/SimpleReceiver.ino#L14">here</a>:</p>
<div class="fragment"><div class="line">#define DECODE_NEC</div>
<div class="line">//#define DECODE_DENON</div>
<div class="line">#incude &lt;IRremote.h&gt;</div>
</div><!-- fragment --><h1><a href="https://github.com/Arduino-IRremote/Arduino-IRremote/wiki">Wiki</a></h1>
<p>This is a quite old but maybe useful wiki for this library.</p>
<h1>Converting your program to the 3.1 version</h1>
<p>This must be done also for all versions &gt; 3.0.1 if <code>USE_NO_SEND_PWM</code> is defined.<br  />
 Starting with this version, <b>the generation of PWM is done by software</b>, thus saving the hardware timer and <b>enabling abitrary output pins</b>.<br  />
 Therefore you must change all <code>IrSender.begin(true);</code> by <code>IrSender.begin(IR_SEND_PIN, ENABLE_LED_FEEDBACK);</code>.</p>
<h1>Converting your 2.x program to the 3.x version</h1>
<ul>
<li>Now there is an <b>IRreceiver</b> and <b>IRsender</b> object like the well known Arduino <b>Serial</b> object.</li>
<li>Just remove the line <code><a class="el" href="classIRrecv.html" title="Main class for receiving IR signals.">IRrecv</a> IrReceiver(IR_RECEIVE_PIN);</code> and/or <code><a class="el" href="classIRsend.html" title="Main class for sending IR signals.">IRsend</a> IrSender;</code> in your program, and replace all occurrences of <code><a class="el" href="classIRrecv.html" title="Main class for receiving IR signals.">IRrecv</a>.</code> or <code>irrecv.</code> with <code>IrReceiver</code>.</li>
<li>Since the decoded values are now in <code>IrReceiver.decodedIRData</code> and not in <code>results</code> any more, remove the line <code><a class="el" href="structdecode__results.html" title="Results returned from old decoders !!!deprecated!!!">decode_results</a> results</code> or similar.</li>
<li>Like for the Serial object, call <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/examples/ReceiveDemo/ReceiveDemo.ino#L38"><code>IrReceiver.begin(IR_RECEIVE_PIN, ENABE_ED_FEEDBACK);</code></a> or <code>IrReceiver.begin(IR_RECEIVE_PIN, DISABLE_LED_FEEDBACK);</code> instead of the <code>IrReceiver.enableIRIn();</code> or <code>irrecv.enableIRIn();</code> in setup().</li>
<li>Old <code>decode(decode_results *aResults)</code> function is replaced by simple <code>decode()</code>. So if you have a statement <code>if(irrecv.decode(&amp;results))</code> replace it with <code>if (IrReceiver.decode())</code>.</li>
<li>The decoded result is now in in <code>IrReceiver.decodedIRData</code> and not in <code>results</code> any more, therefore replace any occurrences of <code>results.value</code> and / or <code>results.decode_type</code> (and similar) to <code>IrReceiver.decodedIRData.decodedRawData</code> and / or <code>IrReceiver.decodedIRData.decodedRawData</code>.</li>
<li>Overflow, Repeat and other flags are now in <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/src/IRremote.h#L126"><code>IrReceiver.receivedIRData.flags</code></a>.</li>
<li>Seldom used: <code>results.rawbuf</code> and <code>results.rawlen</code> must be replaced by <code>IrReceiver.decodedIRData.rawDataPtr-&gt;rawbuf</code> and <code>IrReceiver.decodedIRData.rawDataPtr-&gt;rawlen</code>.</li>
<li>The old functions <code>sendNEC()</code> and <code>sendJVC()</code> are deprecated and renamed to <code>sendNECMSB()</code> and <code>sendJVCMSB()</code> to make it clearer that they send data with MSB first, which is not the standard for NEC and JVC. Use them to send your <b>old 32 bit IR data codes</b>. In the new version you will send NEC commands not by 32 bit codes but by a (constant) 8 bit address and an 8 bit command.</li>
</ul>
<h1>FAQ</h1>
<ul>
<li>IR does not work right when I use Neopixels (aka WS2811/WS2812/WS2812B)<br  />
 Whether you use the Adafruit Neopixel lib, or FastLED, interrupts get disabled on many lower end CPUs like the basic Arduinos for longer than 50 µs. In turn, this stops the IR interrupt handler from running when it needs to. There are some solutions to this on some processors, <a href="http://marc.merlins.org/perso/arduino/post_2017-04-03_Arduino-328P-Uno-Teensy3_1-ESP8266-ESP32-IR-and-Neopixels.html">see this page from Marc MERLIN</a></li>
<li>The default IR timer on AVR's is timer 2. Since the <b>Arduino Tone library</b> as well as <b>analogWrite() for pin 3 and pin 11</b> requires timer 2, this functionality cannot be used simultaneously. You can use tone() but after the tone has stopped, you must call <code>IrReceiver.start()</code> or better <code>IrReceiver.start(&lt;microsecondsOfToneDuration&gt;)</code> to restore the timer settings for receive.<br  />
 If you can live with the NEC protocol, you can try the MinimalReceiver example, it requires no timer.</li>
<li>You can use <b>multiple IR receiver</b> by just connecting the output pins of several IR receivers together. The IR receivers use an NPN transistor as output device with just a 30k resistor to VCC. This is almost "open collector" and allows connecting of several output pins to one Arduino input pin.</li>
</ul>
<h1>Minimal version</h1>
<p>For applications only requiring NEC protocol, there is a receiver which has very <b>small codesize of 500 bytes and does NOT require any timer</b>. See the MinimalReceiver and IRDispatcherDemo example how to use it.</p>
<h1>Handling unknown Protocols</h1>
<h2>Disclaimer</h2>
<p>This library was never designed to handle long codes like the ones used by air conditioners. See <a href="https://www.analysir.com/blog/2014/03/19/air-conditioners-problems-recording-long-infrared-remote-control-signals-arduino">Recording long Infrared Remote control signals with Arduino</a>.<br  />
 The main reason is, that it was designed to fit inside MCUs with relatively low levels of resources and was intended to work as a library together with other applications which also require some resources of the MCU to operate.</p>
<h2>Hints</h2>
<p>If you do not know which protocol your IR transmitter uses, you have several choices.</p><ul>
<li>Use the <a href="examples/ReceiveDump">IRreceiveDump example</a> to dump out the IR timing. You can then reproduce/send this timing with the <a href="examples/SendRawDemo">SendRawDemo example</a>. For <b>long codes</b> with more than 48 bits like from air conditioners, you can <b>change the length of the input buffer</b> in <a href="src/IRremoteInt.h#L36">IRremote.h</a>.</li>
<li>The <a href="https://github.com/ukw100/IRMP#allprotocol-example">IRMP AllProtocol example</a> prints the protocol and data for one of the <b>40 supported protocols</b>. The same library can be used to send this codes.</li>
<li>If you have a bigger Arduino board at hand (&gt; 100 kByte program space) you can try the <a href="https://github.com/bengtmartensson/Arduino-DecodeIR/blob/master/examples/IRremoteDecode/IRremoteDecode.ino">IRremoteDecode example</a> of the Arduino library <a href="https://github.com/bengtmartensson/Arduino-DecodeIR">DecodeIR</a>.</li>
<li>Use <a href="http://www.harctoolbox.org/IrScrutinizer.html">IrScrutinizer</a>. It can automatically generate a send sketch for your protocol by exporting as "Arduino Raw". It supports IRremote, the old <a href="https://github.com/cyborg5/IRLib">IRLib</a> and <a href="https://github.com/bengtmartensson/Infrared4Arduino">Infrared4Arduino</a>.</li>
<li>To <b>increase strength of sent output signal</b> you can increase the current through the send diode, and/or use 2 diodes in series, since one IR diode requires only 1.5 volt.<ul>
<li>The line #include "ATtinySerialOut.h" in PinDefinitionsAndMore.h (requires the library to be installed) saves 370 bytes program space and 38 bytes RAM for <b>Digispark boards</b> as well as enables serial output at 8MHz.</li>
<li>The default software generated PWM has <b>problems on ATtinies running with 8 MHz</b>. The PWM frequency is around 30 instead of 38 kHz and RC6 is not reliable. You can switch to timer PWM generation by <code>#define SEND_PWM_BY_TIMER</code>.</li>
</ul>
</li>
</ul>
<h1>Examples</h1>
<p>In order to fit the examples to the 8K flash of ATtiny85 and ATtiny88, the <a href="https://github.com/ArminJo/ATtinySerialOut">Arduino library ATtinySerialOut</a> is required for this CPU's.</p>
<h3>SimpleReceiver + SimpleSender</h3>
<p>This examples are a good starting point.</p>
<h3>ReceiveDemo + SendDemo</h3>
<p>More complete examples for the advanced user.</p>
<h3>UnitTest</h3>
<p>ReceiveDemo + SendDemo in one program. Receiving while sending.</p>
<h3>ReceiveAndSend</h3>
<p>Record and play back last received IR signal at button press.</p>
<h3>MinimalReceiver + SmallReceiver</h3>
<p>If code size matters look at these examples.</p>
<h3>IRDispatcherDemo</h3>
<p>Framework for calling different functions for different IR codes.</p>
<h3>IRrelay</h3>
<p>Control a relay (connected to an output pin) with your remote.</p>
<h1>Compile options / macros for this library</h1>
<p>To customize the library to different requirements, there are some compile options / macros available.<br  />
 Modify it by commenting them out or in, or change the values if applicable. Or define the macro with the -D compiler option for global compile (the latter is not possible with the Arduino IDE, so consider using <a href="https://eclipse.baeyens.it">Sloeber</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name </th><th class="markdownTableHeadNone">File </th><th class="markdownTableHeadNone">Default value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SEND_PWM_BY_TIMER</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Disable carrier PWM generation in software and use (restricted) hardware PWM ecxept for ESP32 where both modes are using the flexible <code>hw_timer_t</code>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>USE_OLD_DECODE</code> </td><td class="markdownTableBodyNone"><a class="el" href="IRremoteInt_8h.html" title="Contains all declarations required for the internal functions.">IRremoteInt.h</a> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Enables the old decoder in order to be version 2.x compatible, where all protocols were MSB first.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>EXCLUDE_EXOTIC_PROTOCOLS</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">If activated, BOSEWAVE, MAGIQUEST,WHYNTER and LEGO_PF are excluded in <code>decode()</code> and in sending with <code>IrSender.write()</code>. Saves up to 900 bytes program space.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>MARK_EXCESS_MICROS</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">20 </td><td class="markdownTableBodyNone">MARK_EXCESS_MICROS is subtracted from all marks and added to all spaces before decoding, to compensate for the signal forming of different IR receiver modules.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_NO_SEND_PWM</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Use no carrier PWM, just simulate an active low receiver signal.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FEEDBACK_LED_IS_ACTIVE_LOW</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Required on some boards (like my BluePill and my ESP8266 board), where the feedback LED is active low.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>DISABLE_LED_FEEDBACK_FOR_RECEIVE</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">This disables the LED feedback code for receive, thus saving around 108 bytes program space and halving the receiver ISR processing time.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IR_INPUT_IS_ACTIVE_HIGH</code> </td><td class="markdownTableBodyNone">Before <code>#include &lt;<a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a>&gt;</code> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Enable it if you use a RF receiver, which has an active HIGH output signal.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>RAW_BUFFER_LENGTH</code> </td><td class="markdownTableBodyNone"><a class="el" href="IRremoteInt_8h.html" title="Contains all declarations required for the internal functions.">IRremoteInt.h</a> </td><td class="markdownTableBodyNone">101 </td><td class="markdownTableBodyNone">Buffer size of raw input buffer. Must be odd!  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>DEBUG</code> </td><td class="markdownTableBodyNone"><a class="el" href="IRremoteInt_8h.html" title="Contains all declarations required for the internal functions.">IRremoteInt.h</a> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Enables lots of lovely debug output.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IR_SEND_DUTY_CYCLE</code> </td><td class="markdownTableBodyNone"><a class="el" href="IRremoteInt_8h.html" title="Contains all declarations required for the internal functions.">IRremoteInt.h</a> </td><td class="markdownTableBodyNone">30 </td><td class="markdownTableBodyNone">Duty cycle of IR send signal.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>MICROS_PER_TICK</code> </td><td class="markdownTableBodyNone"><a class="el" href="IRremoteInt_8h.html" title="Contains all declarations required for the internal functions.">IRremoteInt.h</a> </td><td class="markdownTableBodyNone">50 </td><td class="markdownTableBodyNone">Resolution of the raw input buffer data.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IR_INPUT_PIN</code> </td><td class="markdownTableBodyNone"><a class="el" href="TinyIRReceiver_8h.html">TinyIRReceiver.h</a> </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">The pin number for TinyIRReceiver IR input, which gets compiled in.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IR_FEEDBACK_LED_PIN</code> </td><td class="markdownTableBodyNone"><a class="el" href="TinyIRReceiver_8h.html">TinyIRReceiver.h</a> </td><td class="markdownTableBodyNone"><code>LED_BUILTIN</code> </td><td class="markdownTableBodyNone">The pin number for TinyIRReceiver feedback LED, which gets compiled in.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>DO_NOT_USE_FEEDBACK_LED</code> </td><td class="markdownTableBodyNone"><a class="el" href="TinyIRReceiver_8h.html">TinyIRReceiver.h</a> </td><td class="markdownTableBodyNone">disabled </td><td class="markdownTableBodyNone">Enable it to disable the feedback LED function.  </td></tr>
</table>
<h3>Modifying compile options with Arduino IDE</h3>
<p>First use <em>Sketch &gt; Show Sketch Folder (Ctrl+K)</em>.<br  />
 If you did not yet stored the example as your own sketch, then you are instantly in the right library folder.<br  />
 Otherwise you have to navigate to the parallel <code>libraries</code> folder and select the library you want to access.<br  />
 In both cases the library files itself are located in the <code>src</code> directory.<br  />
</p>
<h3>Modifying compile options with Sloeber IDE</h3>
<p>If you are using Sloeber as your IDE, you can easily define global symbols with <em>Properties &gt; Arduino &gt; CompileOptions</em>.<br  />
 <img src="https://github.com/ArminJo/ServoEasing/blob/master/pictures/SloeberDefineSymbols.png" alt="Sloeber settings" class="inline"/></p>
<h1>Supported Boards</h1>
<ul>
<li>Arduino Uno / Mega / Leonardo / Duemilanove / Diecimila / LilyPad / Mini / Fio / Nano etc.</li>
<li>Teensy 1.0 / 1.0++ / 2.0 / 2++ / 3.0 / 3.1 / Teensy-LC; Credits: PaulStoffregen (Teensy Team)</li>
<li>Sanguino</li>
<li>ATmega8, 48, 88, 168, 328</li>
<li>ATmega8535, 16, 32, 164, 324, 644, 1284,</li>
<li>ATmega64, 128</li>
<li>ATmega4809 (Nano every)</li>
<li>ATtiny84, 85</li>
<li>SAMD21 (DUE, Zero)</li>
<li>ESP32</li>
<li><a href="https://github.com/crankyoldgit/IRremoteESP8266">ESP8266 is supported in a fork</a> based on an old codebase. It works well given that perfectly timed sub millisecond interrupts are different on that chip.</li>
<li>Sparkfun Pro Micro</li>
<li>Nano Every, Uno WiFi Rev2, nRF5 BBC MicroBit, Nano33_BLE</li>
</ul>
<p>We are open to suggestions for adding support to new boards, however we highly recommend you contact your supplier first and ask them to provide support from their side.</p>
<h1>Timer and pin usage</h1>
<p>The receiver sample interval is generated by a timer. On many boards this must be a hardware timer, on some a software timer is available and used.<br  />
 Every pin can be used for receiving.<br  />
 The send PWM signal is by default generated by software. <b>Therefore every pin can be used for sending</b>.</p>
<h2>Hardware-PWM signal generation for sending</h2>
<p>If you define <code>SEND_PWM_BY_TIMER</code>, the send PWM signal is generated by a hardware timer. The same timer as for the receiver is used. Since each hardware timer has its dedicated output pins, you must change timer to change PWN output.<br  />
 The timer and the pin usage can be adjusted in <a href="src/private/IRBoardDefs.h">IRBoardDefs.h</a></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Board/CPU </th><th class="markdownTableHeadNone">Hardware-PWM Pin </th><th class="markdownTableHeadNone">Timers  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/SpenceKonde/ATTinyCore">ATtiny84</a> </td><td class="markdownTableBodyNone"><b>6</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/SpenceKonde/ATTinyCore">ATtiny85 &gt; 1 MHz</a> </td><td class="markdownTableBodyNone"><b>1</b>, 4 </td><td class="markdownTableBodyNone"><b>0</b>, 1  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MiniCore">ATmega8</a> </td><td class="markdownTableBodyNone"><b>9</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MiniCore">ATmega48, ATmega88, ATmega168, <b>ATmega328</b></a> </td><td class="markdownTableBodyNone"><b>3</b>, 9 </td><td class="markdownTableBodyNone">1, <b>2</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MightyCore">ATmega1284</a> </td><td class="markdownTableBodyNone">13, 14, 6 </td><td class="markdownTableBodyNone">1, <b>2</b>, 3  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MightyCore">ATmega164, ATmega324, ATmega644</a> </td><td class="markdownTableBodyNone">13, <b>14</b> </td><td class="markdownTableBodyNone">1, <b>2</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MightyCore">ATmega8535 ATmega16, ATmega32</a> </td><td class="markdownTableBodyNone"><b>13</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MegaCore">ATmega64, ATmega128, ATmega1281, ATmega2561</a> </td><td class="markdownTableBodyNone"><b>13</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/MCUdude/MajorCore">ATmega8515, ATmega162</a> </td><td class="markdownTableBodyNone"><b>13</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ATmega1280, ATmega2560 </td><td class="markdownTableBodyNone">5, 6, <b>9</b>, 11, 46 </td><td class="markdownTableBodyNone">1, <b>2</b>, 3, 4, 5  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ATmega4809 </td><td class="markdownTableBodyNone">5, 6, <b>9</b>, 11, 46 </td><td class="markdownTableBodyNone"><b>TCB0</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Leonardo (Atmega32u4) </td><td class="markdownTableBodyNone">5, <b>9</b>, 13 </td><td class="markdownTableBodyNone">1, 3, <b>4_HS</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Zero (SAMD) </td><td class="markdownTableBodyNone">*, <b>9</b> </td><td class="markdownTableBodyNone"><b>TC3</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="http://esp32.net/">ESP32</a> </td><td class="markdownTableBodyNone"><b>4</b>, all pins </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.sparkfun.com/products/12640">Sparkfun Pro Micro</a> </td><td class="markdownTableBodyNone"><b>5</b>, 9 </td><td class="markdownTableBodyNone">1, <b>3</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.pjrc.com/teensy/">Teensy 1.0</a> </td><td class="markdownTableBodyNone"><b>17</b> </td><td class="markdownTableBodyNone"><b>1</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.pjrc.com/teensy/">Teensy 2.0</a> </td><td class="markdownTableBodyNone"><b>9</b>, 10, 14 </td><td class="markdownTableBodyNone">1, <b>3</b>, 4_HS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.pjrc.com/teensy/">Teensy++ 1.0 / 2.0</a> </td><td class="markdownTableBodyNone"><b>1</b>, 16, 25 </td><td class="markdownTableBodyNone">1, <b>2</b>, 3  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.pjrc.com/teensy/">Teensy 3.0 / 3.1</a> </td><td class="markdownTableBodyNone"><b>5</b> </td><td class="markdownTableBodyNone"><b>CMT</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.pjrc.com/teensy/">Teensy-LC</a> </td><td class="markdownTableBodyNone"><b>16</b> </td><td class="markdownTableBodyNone"><b>TPM1</b>  </td></tr>
</table>
<h1>Adding new protocols</h1>
<p>To add a new protocol is quite straightforward. Best is too look at the existing protocols to find a similar one and modify it.<br  />
 As a rule of thumb, it is easier to work with a description of the protocol rather than trying to entirely reverse-engineer the protocol. Please include a link to the description in the header, if you found one.<br  />
 The <b>durations</b> you receive are likely to be longer for marks and shorter for spaces than the protocol suggests, but this depends on the receiver circuit in use. Most protocols use multiples of one time-unit for marks and spaces like e.g. <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/src/ir_NEC.cpp#L50">NEC</a>. It's easy to be off-by-one with the last bit, since the last space is not recorded by IRremote.</p>
<p>Try to make use of the template functions <code>decodePulseDistanceData()</code> and <code>sendPulseDistanceData()</code>. If your protocol supports address and code fields, try to reflect this in your api like it is done in <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/src/ir_NEC.cpp#L86"><code>sendNEC(uint16_t aAddress, uint8_t aCommand, uint_fast8_t aNumberOfRepeats, bool aIsRepeat)</code></a> and <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/src/ir_NEC.cpp#L145"><code>decodeNEC()</code></a>.<br  />
</p>
<h3>Integration</h3>
<p>To integrate your protocol, you need to extend the two functions <code>decode()</code> and <code><a class="el" href="group__Receiving.html#ga77bf675537483ace83da089dea3a50a2">getProtocolString()</a></code> in <em>IRreceice.cpp</em>, add macros and function declarations for sending and receiving and extend the <code>enum decode_type_t</code> in <em><a class="el" href="IRremote_8h.html" title="Public API to the library.">IRremote.h</a></em>.<br  />
 And at least it would be wonderful if you can provide an example how to use the new protocol. A detailed description can be found in the <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/src/ir_Template.cpp#L18">ir_Template.cpp</a> file.</p>
<h1>NEC encoding</h1>
<p>8 bit address NEC code <img src="https://user-images.githubusercontent.com/6750655/108884951-78e42b80-7607-11eb-9513-b07173a169c0.png" alt="8 bit address NEC code" class="inline"/> 16 bit address NEC code <img src="https://user-images.githubusercontent.com/6750655/108885081-a6c97000-7607-11eb-8d35-274a7065b6c4.png" alt="16 bit address NEC code" class="inline"/></p>
<h1>Revision History</h1>
<p>Please see <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/changelog.md">changelog.md</a>.</p>
<h1>API documentation</h1>
<p>See <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/wiki/API-Reference">API reference in wiki</a>.</p>
<p>To generate the API documentation, Doxygen, as well as <a href="http://www.graphviz.org/">Graphviz</a> should be installed. (Note that on Windows, it is useful to specify the installer to add Graphviz to PATH or to do it manually. With Doxygen and Graphviz installed, issue the command <code>doxygen</code> from the command line in the main project directory, which will generate the API documentation in HTML format. The just generated <code>docs/index.html</code> can now be opened in a browser.</p>
<h2>Why do we use 33% duty cycle</h2>
<p>We do it according to the statement in the <a href="https://www.vishay.com/docs/80069/circuit.pdf">Vishay datasheet</a>:</p><ul>
<li>Carrier duty cycle 50 %, peak current of emitter IF = 200 mA, the resulting transmission distance is 25 m.</li>
<li>Carrier duty cycle 10 %, peak current of emitter IF = 800 mA, the resulting transmission distance is 29 m. - Factor 1.16 The reason is, that it is not the pure energy of the fundamental which is responsible for the receiver to detect a signal. Due to automatic gain control and other bias effects high intensity and lower energy (duty cycle) of the 38 kHz pulse counts more than high low intensity and higher energy.</li>
</ul>
<p>BTW, <b>the best way to increase the IR power</b> is to use 2 or 3 IR diodes in series. One diode requires 1.1 to 1.5 volt so you can supply 3 diodes with a 5 volt output.<br  />
 To keep the current, you must reduce the resistor by (5 - 1.3) / (5 - 2.6) = 1.5 e.g. from 150 ohm to 100 ohm for 25 mA and 2 diodes with 1.3 volt and a 5 volt supply.<br  />
 For 3 diodes it requires factor 2.5 e.g. from 150 ohm to 60 ohm.</p>
<h1>Quick comparison of 4 Arduino IR receiving libraries</h1>
<p><a href="https://github.com/crankyoldgit/IRremoteESP8266">Here</a> you find an <b>ESP8266/ESP32</b> version of IRremote with an <b><a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/SupportedProtocols.md">impressive list of supported protocols</a></b>. </p><h2>This is a short comparison and may not be complete or correct</h2>
<p>I created this comparison matrix for <a href="https://github.com/ArminJo">myself</a> in order to choose a small IR lib for my project and to have a quick overview, when to choose which library.<br  />
 It is dated from <b>03.02.2021</b>. If you have complains about the data or request for extensions, please send a PM or open a discussion.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Subject </th><th class="markdownTableHeadNone"><a href="https://github.com/ukw100/IRMP">IRMP</a> </th><th class="markdownTableHeadNone"><a href="https://github.com/NicoHood/IRLremote">IRLremote</a> </th><th class="markdownTableHeadNone"><a href="https://github.com/cyborg5/IRLib2">IRLib2</a><br  />
**mostly unmaintained** </th><th class="markdownTableHeadNone"><a href="https://github.com/Arduino-IRremote/Arduino-IRremote">IRremote</a> </th><th class="markdownTableHeadNone"><a href="https://github.com/Arduino-IRremote/Arduino-IRremote/tree/master/examples/MinimalReceiver">Minimal NEC</a>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Number of protocols </td><td class="markdownTableBodyNone"><b>50</b> </td><td class="markdownTableBodyNone">Nec + Panasonic + Hash * </td><td class="markdownTableBodyNone">12 + Hash * </td><td class="markdownTableBodyNone">17 + Hash * </td><td class="markdownTableBodyNone">NEC  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3.Party libs needed </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">PinChangeInterrupt if not pin 2 or 3 </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">%  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Timing method receive </td><td class="markdownTableBodyNone">Timer2 or interrupt for pin 2 or 3 </td><td class="markdownTableBodyNone"><b>Interrupt</b> </td><td class="markdownTableBodyNone">Timer2 or interrupt for pin 2 or 3 </td><td class="markdownTableBodyNone">Timer2 or interrupt for NEC </td><td class="markdownTableBodyNone"><b>Interrupt</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Timing method send </td><td class="markdownTableBodyNone">PWM and timing with Timer2 interrupts </td><td class="markdownTableBodyNone">Timer2 interrupts </td><td class="markdownTableBodyNone">Timer2 and blocking wait </td><td class="markdownTableBodyNone">PWM with Timer2 and blocking wait with delayMicroseconds() </td><td class="markdownTableBodyNone">%  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Send pins </td><td class="markdownTableBodyNone">All </td><td class="markdownTableBodyNone">All </td><td class="markdownTableBodyNone">All ? </td><td class="markdownTableBodyNone">Timer dependent </td><td class="markdownTableBodyNone">%  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Decode method </td><td class="markdownTableBodyNone">OnTheFly </td><td class="markdownTableBodyNone">OnTheFly </td><td class="markdownTableBodyNone">RAM </td><td class="markdownTableBodyNone">RAM </td><td class="markdownTableBodyNone">OnTheFly  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Encode method </td><td class="markdownTableBodyNone">OnTheFly </td><td class="markdownTableBodyNone">OnTheFly </td><td class="markdownTableBodyNone">OnTheFly </td><td class="markdownTableBodyNone">OnTheFly or RAM </td><td class="markdownTableBodyNone">%  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Callback suppport </td><td class="markdownTableBodyNone">x </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">x  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Repeat handling </td><td class="markdownTableBodyNone">Receive + Send (partially) </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">? </td><td class="markdownTableBodyNone">Receive + Send </td><td class="markdownTableBodyNone">x  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">LED feedback </td><td class="markdownTableBodyNone">x </td><td class="markdownTableBodyNone">% </td><td class="markdownTableBodyNone">x </td><td class="markdownTableBodyNone">x </td><td class="markdownTableBodyNone">x  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FLASH usage (simple NEC example with 5 prints) </td><td class="markdownTableBodyNone">1820<br  />
(4300 for 15 main / 8000 for all 40 protocols)<br  />
(+200 for callback)<br  />
(+80 for interrupt at pin 2+3) </td><td class="markdownTableBodyNone">1270<br  />
(1400 for pin 2+3) </td><td class="markdownTableBodyNone">4830 </td><td class="markdownTableBodyNone">1770 </td><td class="markdownTableBodyNone"><b>900</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RAM usage </td><td class="markdownTableBodyNone">52<br  />
(73 / 100 for 15 (main) / 40 protocols) </td><td class="markdownTableBodyNone">62 </td><td class="markdownTableBodyNone">334 </td><td class="markdownTableBodyNone">227 </td><td class="markdownTableBodyNone"><b>19</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Supported platforms </td><td class="markdownTableBodyNone"><b>avr, megaAVR, attiny, Digispark (Pro), esp8266, ESP32, STM32, SAMD 21, Apollo3<br  />
(plus arm and pic for non Arduino IDE)</b> </td><td class="markdownTableBodyNone">avr, esp8266 </td><td class="markdownTableBodyNone">avr, SAMD 21, SAMD 51 </td><td class="markdownTableBodyNone">avr, attiny, <a href="https://github.com/crankyoldgit/IRremoteESP8266">esp8266</a>, esp32, SAM, SAMD </td><td class="markdownTableBodyNone"><b>All platforms with attachInterrupt()</b>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Last library update </td><td class="markdownTableBodyNone">2/2021 </td><td class="markdownTableBodyNone">4/2018 </td><td class="markdownTableBodyNone">9/2019 </td><td class="markdownTableBodyNone">2/2021 </td><td class="markdownTableBodyNone">2/2021  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Remarks </td><td class="markdownTableBodyNone">Decodes 40 protocols concurrently.<br  />
39 Protocols to send.<br  />
Work in progress. </td><td class="markdownTableBodyNone">Only one protocol at a time. </td><td class="markdownTableBodyNone">Consists of 5 libraries. <b>Project containing bugs - 45 issues, no reaction for at least one year.</b> </td><td class="markdownTableBodyNone">Decoding and sending are easy to extend.<br  />
Supports <b>Pronto</b> codes. </td><td class="markdownTableBodyNone">Requires no timer.  </td></tr>
</table>
<ul>
<li>The Hash protocol gives you a hash as code, which may be sufficient to distinguish your keys on the remote, but may not work with some protocols like Mitsubishi</li>
</ul>
<h1>Contributing</h1>
<p>If you want to contribute to this project:</p><ul>
<li>Report bugs and errors</li>
<li>Ask for enhancements</li>
<li>Create issues and pull requests</li>
<li>Tell other people about this library</li>
<li>Contribute new protocols</li>
</ul>
<p>Check <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/Contributing.md">here</a> for some guidelines.</p>
<h2>Contributors</h2>
<p>Check <a href="https://github.com/Arduino-IRremote/Arduino-IRremote/blob/master/Contributors.md">here</a></p>
<h1>Contact</h1>
<p>Email: <a href="#" onclick="location.href='mai'+'lto:'+'zet'+'os'+'lab'+'@g'+'mai'+'l.'+'com'; return false;">zetos<span style="display: none;">.nosp@m.</span>lab@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a> Please only email me if it is more appropriate than creating an Issue / PR. I <b>will</b> not respond to requests for adding support for particular boards, unless of course you are the creator of the board and would like to cooperate on the project. I will also <b>ignore</b> any emails asking me to tell you how to implement your ideas. However, if you have a private inquiry that you would only apply to you and you would prefer it to be via email, by all means.</p>
<h1>License</h1>
<p>Up to the version 2.7.0 the License is GPLv2. From the version 2.8.0 the license is the MIT license.</p>
<h2>Copyright</h2>
<p>Initially coded 2009 Ken Shirriff <a href="http://www.righto.com">http://www.righto.com</a> Copyright (c) 2016 Rafi Khan Copyright (c) 2020-2021 Armin Joachimsmeyer </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 18 2021 22:40:19 for IRremote by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
